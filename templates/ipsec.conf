# /var/lib/l3overlay/ipsec.conf
# This file was automatically generated by l3overlayd.

# Set up 'global' parameters, to be the defaults for all connections.
# Should be set to be current best practice values.
# Changes here will potentially affect many VPNs.  BE CAREFUL.
conn %default
  keyexchange = ikev2
  ike = aes256-sha512-ecp384
  esp = aes256-sha512-ecp384
  ikelifetime = 14400s
  lifetime = 3600s
  dpdaction = restart
  keyingtries = %forever
  authby = secret

{% for mesh_tunnel in mesh_tunnels %}
conn {{ mesh_tunnel[0] }}-{{ mesh_tunnel[1] }}
  left = {{ mesh_tunnel[0] }}
  right = {{ mesh_tunnel[1] }}
  leftsubnet = {{ mesh_tunnel[0] }}[gre]
  rightsubnet = {{ mesh_tunnel[1] }}[gre]
  type = transport
  auto = route

{% endfor %}
